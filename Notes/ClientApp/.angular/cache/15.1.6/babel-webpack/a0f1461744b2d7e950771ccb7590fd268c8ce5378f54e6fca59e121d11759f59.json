{"ast":null,"code":"import { FormGroup, Validators } from '@angular/forms';\nimport { ResponseMessage } from 'src/app/shared/response-message.model';\nimport { Login } from './login.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../auth.service\";\nimport * as i4 from \"src/app/nav-menu/nav-menu.service\";\nimport * as i5 from \"@angular/common\";\nfunction LoginComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 21)(2, \"div\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"className\", \"alert alert-\" + ctx_r0.responseMessage.type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.responseMessage.message);\n  }\n}\nfunction LoginComponent_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 22);\n    i0.ɵɵtext(1, \" Email is invalid. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 23);\n    i0.ɵɵtext(1, \" Password is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class LoginComponent {\n  constructor(fb, router, authService, navmenuService) {\n    this.fb = fb;\n    this.router = router;\n    this.authService = authService;\n    this.navmenuService = navmenuService;\n    this.responseMessage = ResponseMessage.default;\n    this.loginForm = new FormGroup({});\n    this.showEmailValidators = false;\n    this.showPasswordValidators = false;\n  }\n  ngOnInit() {\n    this.loginForm = this.fb.group({\n      email: ['', {\n        validators: [Validators.required, Validators.email],\n        updateOn: 'blur'\n      }],\n      password: ['', {\n        validators: [Validators.required],\n        updateOn: 'blur'\n      }],\n      rememberme: [false]\n    });\n  }\n  onSubmit() {\n    let login = new Login(this.loginForm.get('email').value, this.loginForm.get('password').value, this.loginForm.get('rememberme').value);\n    this.authService.loginUser(login).subscribe(response => {\n      this.responseMessage = response;\n      console.log(response);\n      if (this.responseMessage.statusCode === 1) {\n        this.authService.setIsAuthenticate(true);\n        setTimeout(() => {\n          this.router.navigate(['/']);\n        }, 1000);\n      }\n    });\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.NavMenuService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 37,\n  vars: 5,\n  consts: [[\"action\", \"post\", 3, \"formGroup\", \"submit\"], [1, \"row\"], [1, \"col-2\"], [1, \"col-8\"], [1, \"container\"], [\"class\", \"row align-items-center m-2\", 4, \"ngIf\"], [1, \"row\", \"align-items-center\", \"m-2\"], [1, \"col-3\"], [\"for\", \"email\"], [1, \"col-6\"], [\"type\", \"text\", \"formControlName\", \"email\", 1, \"form-control\", 3, \"focus\", \"blur\"], [\"class\", \"text-danger\", \"field-validation-for\", \"email\", 4, \"ngIf\"], [\"for\", \"password\"], [\"type\", \"password\", \"formControlName\", \"password\", 1, \"form-control\", 3, \"focus\", \"blur\"], [\"class\", \"text-danger\", \"field-validation-for\", \"password\", 4, \"ngIf\"], [\"for\", \"rememberme\"], [\"type\", \"checkbox\", \"formControlName\", \"rememberme\", 1, \"form-check-input\"], [1, \"col\"], [1, \"col\", 2, \"text-align-last\", \"center\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"m-2\", 3, \"disabled\"], [\"type\", \"reset\", 1, \"btn\", \"btn-secondary\", \"m-2\"], [3, \"className\"], [\"field-validation-for\", \"email\", 1, \"text-danger\"], [\"field-validation-for\", \"password\", 1, \"text-danger\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0);\n      i0.ɵɵlistener(\"submit\", function LoginComponent_Template_form_submit_0_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelement(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"div\", 3)(4, \"div\", 4);\n      i0.ɵɵtemplate(5, LoginComponent_div_5_Template, 4, 2, \"div\", 5);\n      i0.ɵɵelementStart(6, \"div\", 6)(7, \"div\", 7)(8, \"label\", 8);\n      i0.ɵɵtext(9, \"Email\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 9)(11, \"input\", 10);\n      i0.ɵɵlistener(\"focus\", function LoginComponent_Template_input_focus_11_listener() {\n        return ctx.showEmailValidators = false;\n      })(\"blur\", function LoginComponent_Template_input_blur_11_listener() {\n        return ctx.showEmailValidators = true;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(12, LoginComponent_span_12_Template, 2, 0, \"span\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"div\", 6)(14, \"div\", 7)(15, \"label\", 12);\n      i0.ɵɵtext(16, \"Password\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 9)(18, \"input\", 13);\n      i0.ɵɵlistener(\"focus\", function LoginComponent_Template_input_focus_18_listener() {\n        return ctx.showPasswordValidators = false;\n      })(\"blur\", function LoginComponent_Template_input_blur_18_listener() {\n        return ctx.showPasswordValidators = true;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(19, LoginComponent_span_19_Template, 2, 0, \"span\", 14);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 6)(21, \"div\", 7)(22, \"label\", 15);\n      i0.ɵɵtext(23, \"Remember Me\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(24, \"div\", 9);\n      i0.ɵɵelement(25, \"input\", 16);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(26, \"div\", 6)(27, \"div\", 17)(28, \"div\", 4)(29, \"div\", 1)(30, \"div\", 18)(31, \"div\")(32, \"button\", 19);\n      i0.ɵɵtext(33, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"button\", 20);\n      i0.ɵɵtext(35, \"Reset\");\n      i0.ɵɵelementEnd()()()()()()()()();\n      i0.ɵɵelement(36, \"div\", 2);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.responseMessage && ctx.responseMessage.message);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.showEmailValidators && !ctx.loginForm.get(\"email\").valid);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.showPasswordValidators && !ctx.loginForm.get(\"password\").valid);\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"disabled\", !ctx.loginForm.valid || !ctx.showPasswordValidators || !ctx.showEmailValidators);\n    }\n  },\n  dependencies: [i5.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.CheckboxControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormGroup","Validators","ResponseMessage","Login","i0","LoginComponent","constructor","fb","router","authService","navmenuService","default","ngOnInit","loginForm","group","email","validators","required","updateOn","password","rememberme","onSubmit","login","get","value","loginUser","subscribe","response","responseMessage","console","log","statusCode","setIsAuthenticate","setTimeout","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\mine\\projects\\dotnet-angular\\Notes\\Notes\\ClientApp\\src\\app\\components\\auth\\login\\login.component.ts","D:\\mine\\projects\\dotnet-angular\\Notes\\Notes\\ClientApp\\src\\app\\components\\auth\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { ResponseMessage } from 'src/app/shared/response-message.model';\nimport { AuthService } from '../auth.service';\nimport { Login } from './login.model';\nimport { NavMenuService } from 'src/app/nav-menu/nav-menu.service';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n  responseMessage=ResponseMessage.default;\n  loginForm:FormGroup=new FormGroup({})\n\n  showEmailValidators = false;\n  showPasswordValidators=false;\n\n  constructor(\n    private fb:FormBuilder,\n    private router:Router,\n    private authService:AuthService,\n    private navmenuService:NavMenuService\n  ){}\n\n\n  ngOnInit(): void {\n    this.loginForm=this.fb.group({\n      email: ['', {\n        validators: [Validators.required, Validators.email],\n        updateOn: 'blur'\n      }],\n      password:['',{\n        validators:[Validators.required],\n        updateOn:'blur'\n      }],\n      rememberme:[false]\n    })\n  }\n\n  onSubmit(){\n    let login=new Login(\n      this.loginForm.get('email')!.value,\n      this.loginForm.get('password')!.value,\n      this.loginForm.get('rememberme')!.value\n    )\n    \n    this.authService.loginUser(login).subscribe(response=>{\n      this.responseMessage=response;\n      console.log(response)\n      if(this.responseMessage.statusCode===1){\n        this.authService.setIsAuthenticate(true)\n        setTimeout(()=>{\n          this.router.navigate(['/'])\n        },1000)\n      }\n    })\n\n  }\n\n}\n","<form [formGroup]=\"loginForm\" (submit)=\"onSubmit()\" action=\"post\">\n    <div class=\"row\">\n        <div class=\"col-2\"></div>\n        <div class=\"col-8\">\n            <div class=\"container\">\n                <div *ngIf=\"responseMessage && responseMessage.message\"  class=\"row align-items-center m-2\">\n                    <div [className]=\"'alert alert-'+responseMessage.type\">\n                        <div>{{responseMessage.message}}</div>\n                    </div>\n                </div>\n                <div class=\"row align-items-center m-2\">\n                    <div class=\"col-3\">\n                        <label for=\"email\">Email</label>\n                    </div>\n                    <div class=\"col-6\">\n                        <input type=\"text\" \n                        formControlName=\"email\" \n                        class=\"form-control\"\n                        (focus)=\"showEmailValidators=false\"\n                        (blur)=\"showEmailValidators=true\"\n                    >\n                        <span\n                         class=\"text-danger\"\n                         *ngIf=\"\n                         showEmailValidators && !loginForm.get('email')!.valid\n                         \"\n                         field-validation-for=\"email\"\n                        >\n                        Email is invalid.\n                        </span>\n                    </div>\n                </div>\n                <div class=\"row align-items-center m-2\">\n                    <div class=\"col-3\">\n                        <label for=\"password\">Password</label>\n                    </div>\n                    <div class=\"col-6\">\n                        <input \n                            type=\"password\" \n                            formControlName=\"password\" \n                            class=\"form-control\"\n                            (focus)=\"showPasswordValidators=false\"\n                            (blur)=\"showPasswordValidators=true\"\n                            >\n                        <span \n                            class=\"text-danger\"\n                            *ngIf=\"showPasswordValidators && !loginForm.get('password')!.valid\"\n                            field-validation-for=\"password\"\n                        >\n                            Password is required.\n                        </span>\n                    </div>\n                </div>\n                <div class=\"row align-items-center m-2\">\n                    <div class=\"col-3\">\n                        <label for=\"rememberme\">Remember Me</label>\n                    </div>\n                    <div class=\"col-6\">\n                        <input type=\"checkbox\" formControlName=\"rememberme\" class=\"form-check-input\">\n                    </div>\n                </div>\n                <div class=\"row align-items-center m-2\">\n                    <div class=\"col\">\n                        <div class=\"container\">\n                            <div class=\"row\">\n                                <div class=\"col\" style=\"text-align-last: center;\">\n                                    <div>\n                                        <button \n                                        class=\"btn btn-primary m-2\" \n                                        type=\"submit\"\n                                        [disabled]=\"!loginForm.valid || !showPasswordValidators || !showEmailValidators\"\n                                        >Login</button>  \n                                        <button class=\"btn btn-secondary m-2\" type=\"reset\">Reset</button>                \n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>    \n            </div>\n        </div>\n        <div class=\"col-2\"></div>\n    </div>\n</form>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}